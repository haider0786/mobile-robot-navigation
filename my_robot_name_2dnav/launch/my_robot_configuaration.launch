<?xml version="1.0"?>
<launch>
<!--<param name="/use_sim_time" value="true"/>-->

<!--<arg name="map_file" default="$(find mybot_navigation)/maps/test1.yaml"/>-->
<arg name="open_rviz" default="true"/>

<node name="map_server" pkg="map_server" type="map_server" args="$(find my_robot_name_2dnav)/map/new_map.yaml">
<param name="frame_id" value="/map"/>
</node>


 <node pkg="tf" type="static_transform_publisher" name="map_odom_broadcaster"
      args="0 0 0 0 0 0 map odom 100"/>


<include file="$(find my_robot_name_2dnav)/launch/amcl.launch"/>

<param name="robot_description" command="$(find xacro)/xacro.py $(find amr_robots_description)/urdf/poineer3at_laser_testrviz.urdf"/>
  <!-- send fake joint values -->
  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
    <param name="use_gui" value="False"/>
  </node>
  <!-- Combine joint values -->
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher"/>




<!-- move_base-->
<include file="$(find my_robot_name_2dnav)/launch/move_base.launch" />

   


<!--<node type="rviz" name="rviz" pkg="rviz"/>-->
 <group if="$(arg open_rviz)"> 
     <node pkg="rviz" type="rviz" name="rviz" required="true"
          args="-d $(find myrobot)/rviz/myrobot.rviz"/>
</group>

</launch>
